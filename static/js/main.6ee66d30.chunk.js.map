{"version":3,"sources":["TrackerForm/TrackerForm.module.css","store/types.js","store/reducer.js","Header/Header.js","TrackerForm/TrackerForm.js","store/actions.js","TrackerList/Tracker/Tracker.js","TrackerList/TrackerList.js","App.js","index.js"],"names":["module","exports","CREATE","REMOVE","PAUSE","RESUME","initialState","trackers","Header","TrackerForm","state","name","handleChange","e","setState","target","value","handleClick","props","create","handleKeyPress","keyCode","this","className","styles","InputBase","placeholder","style","flex","onChange","onKeyDown","IconButton","padding","onClick","color","green","fontSize","Component","connect","dispatch","type","payload","Tracker","elapsedTime","getElapsedTime","updateElapsedTime","handleToggleClick","tracker","isPaused","onResume","id","setupUpdateInterval","onPause","clearUpdateInterval","handleRemove","onRemove","display","justifyContent","ListItem","paddingRight","ListItemText","primary","Typography","whiteSpace","overflow","textOverflow","ListItemSecondaryAction","edge","grey","red","intervalId","setInterval","clearInterval","intervals","reduce","acc","cur","pausedAt","Date","now","startedAt","moment","duration","format","trim","pause","resume","remove","List","map","index","Divider","length","App","Container","maxWidth","textAlign","store","createStore","action","uuidv4","filter","persistState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6ee66d30.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"TrackerForm\":\"TrackerForm_TrackerForm__d8sEY\"};","export const CREATE = '@tracker:create';\nexport const REMOVE = '@tracker:remove';\nexport const PAUSE = '@tracker:pause';\nexport const RESUME = '@tracker:resume';\n","import moment from 'moment';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { CREATE, REMOVE, RESUME, PAUSE } from './types';\n\nconst initialState = {\n  trackers: []\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case CREATE: {\n      return {\n        ...state,\n        trackers: [\n          {\n            id: uuidv4(),\n            name: action.payload || `Timer from ${moment().format('HH:mm:ss')}`,\n            isPaused: false,\n            intervals: [{\n              startedAt: Date.now(),\n              pausedAt: null,\n            }],\n          },\n          ...state.trackers,\n        ]\n      };\n    }\n    case REMOVE: {\n      const trackers = state.trackers.filter(tracker => tracker.id !== action.payload);\n      return {\n        ...state,\n        trackers\n      };\n    }\n\n    case PAUSE: {\n      const trackers = state.trackers.map(tracker => {\n        if (tracker.id === action.payload) {\n          const intervals = [...tracker.intervals];\n\n          intervals[intervals.length - 1].pausedAt = Date.now();\n\n          return {\n            ...tracker,\n            isPaused: true,\n            intervals,\n          }\n        }\n\n        return tracker;\n      });\n      return {\n        ...state,\n        trackers\n      };\n    }\n\n    case RESUME: {\n      const trackers = state.trackers.map(tracker => {\n        if (tracker.id === action.payload) {\n          return {\n            ...tracker,\n            isPaused: false,\n            intervals: [\n              ...tracker.intervals,\n              {\n                startedAt: Date.now(),\n                pausedAt: null,\n              }\n            ],\n          }\n        }\n\n        return tracker;\n      });\n\n      return {\n        ...state,\n        trackers\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import logo from './logo.png'; // Tell webpack this JS file uses this image\n\nfunction Header() {\n  return (\n    <div style={{ textAlign: 'center' }}>\n      <img src={logo} alt=\"Logo\"/>\n    </div>\n  );\n}\n\nexport default Header;\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { InputBase, IconButton } from '@material-ui/core';\nimport { green } from '@material-ui/core/colors';\n\nimport PlayCircleFilledWhiteIcon from '@material-ui/icons/PlayCircleFilledWhite';\n\nimport styles from './TrackerForm.module.css';\n\nimport { create } from '../store/actions';\n\nclass TrackerForm extends Component {\n  state = {\n    name: ''\n  };\n\n  render() {\n    const { name } = this.state;\n    return (\n      <div className={styles.TrackerForm}>\n        <InputBase value={name} placeholder=\"Enter tracker name\" style={{ flex: 1 }}\n                   onChange={this.handleChange} onKeyDown={this.handleKeyPress}/>\n        <IconButton style={{ padding: 0 }} onClick={this.handleClick}>\n          <PlayCircleFilledWhiteIcon style={{\n            color: green[500],\n            fontSize: 40,\n          }}/>\n        </IconButton>\n      </div>\n    );\n  }\n\n  handleChange = e => {\n    this.setState({ name: e.target.value });\n  };\n\n  handleClick = () => {\n    this.props.create(this.state.name);\n    this.setState({ name: '' });\n  };\n\n  handleKeyPress = e => {\n    if (e.keyCode === 13) {\n      this.handleClick();\n    }\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    create: name => dispatch(create(name)),\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(TrackerForm);\n","import { CREATE, REMOVE, PAUSE, RESUME } from './types';\n\nexport function create(name) {\n  return {\n    type: CREATE,\n    payload: name\n  };\n}\n\nexport function pause(id) {\n  return {\n    type: PAUSE,\n    payload: id\n  };\n}\n\nexport function resume(id) {\n  return {\n    type: RESUME,\n    payload: id\n  };\n}\n\nexport function remove(id) {\n  return {\n    type: REMOVE,\n    payload: id\n  };\n}\n","import { Component } from 'react';\n\nimport { connect } from 'react-redux';\n\nimport {\n  IconButton,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Typography\n} from '@material-ui/core';\n\nimport moment from 'moment';\nimport 'moment-duration-format';\n\nimport { green, grey, red } from '@material-ui/core/colors';\n\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\nimport PauseCircleOutlineIcon from '@material-ui/icons/PauseCircleOutline';\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\n\nclass Tracker extends Component {\n  state = {\n    elapsedTime: this.getElapsedTime(),\n  };\n\n  componentDidMount() {\n    this.setupUpdateInterval();\n  }\n\n  componentWillUnmount() {\n    this.clearUpdateInterval();\n  }\n\n  render() {\n    const { tracker } = this.props;\n    const { elapsedTime } = this.state;\n\n    const style = {\n      display: 'flex',\n      justifyContent: 'space-between',\n    };\n\n    if (tracker.isPaused === false) {\n      style.color = green[500];\n    }\n\n    return (\n      <ListItem style={{ paddingRight: 96 }}>\n        <ListItemText\n          primary={\n            <div style={style}>\n              <Typography display=\"inline\" style={{\n                whiteSpace: 'nowrap',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis'\n              }}>\n                {tracker.name}\n              </Typography>\n              <Typography display=\"inline\">\n                {elapsedTime}\n              </Typography>\n            </div>\n          }\n        />\n        <ListItemSecondaryAction>\n          <IconButton\n            edge=\"end\"\n            style={{ color: grey[900] }}\n            onClick={this.handleToggleClick}\n          >\n            {tracker.isPaused ? <PlayCircleOutlineIcon/> : <PauseCircleOutlineIcon/>}\n          </IconButton>\n          <IconButton edge=\"end\" style={{ color: red[300] }}\n                      onClick={this.handleRemove}>\n            <RemoveCircleOutlineIcon/>\n          </IconButton>\n        </ListItemSecondaryAction>\n      </ListItem>\n    );\n  }\n\n  setupUpdateInterval() {\n    this.intervalId = setInterval(this.updateElapsedTime, 1000);\n  }\n\n  clearUpdateInterval() {\n    clearInterval(this.intervalId);\n  }\n\n  updateElapsedTime = () => {\n    this.setState({\n      elapsedTime: this.getElapsedTime(),\n    });\n  };\n\n  getElapsedTime() {\n    const { tracker: { intervals } } = this.props;\n\n    const elapsedTime = intervals.reduce((acc, cur) => {\n      return acc + (cur.pausedAt || Date.now()) - cur.startedAt;\n    }, 0);\n\n    return moment.duration(elapsedTime, 'milliseconds')\n      .format('HH:mm:ss', { trim: false });\n  }\n\n  handleToggleClick = () => {\n    const { tracker } = this.props;\n\n    if (tracker.isPaused) {\n      this.props.onResume(tracker.id);\n      this.setupUpdateInterval();\n    } else {\n      this.props.onPause(tracker.id);\n      this.clearUpdateInterval();\n    }\n  };\n\n  handleRemove = () => {\n    this.props.onRemove(this.props.tracker.id);\n  };\n}\n\nexport default Tracker;\n","import { Fragment } from 'react';\n\nimport { connect } from 'react-redux';\n\nimport { Divider, List } from '@material-ui/core';\n\nimport Tracker from './Tracker/Tracker';\nimport { pause, remove, resume } from '../store/actions';\n\nfunction TrackerList(props) {\n  const { trackers } = props;\n  return (\n    <List>\n      {\n        trackers.map((tracker, index) => (\n          <Fragment key={tracker.id}>\n            <Divider/>\n            <Tracker\n              tracker={tracker}\n              onRemove={props.remove}\n              onPause={props.pause}\n              onResume={props.resume}\n            />\n            {index === trackers.length - 1 && <Divider/>}\n          </Fragment>\n        ))\n      }\n    </List>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    trackers: state.trackers\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    pause: id => dispatch(pause(id)),\n    resume: id => dispatch(resume(id)),\n    remove: id => dispatch(remove(id)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TrackerList);\n","import { Container } from '@material-ui/core';\n\nimport Header from './Header/Header';\nimport TrackerForm from './TrackerForm/TrackerForm';\nimport TrackerList from './TrackerList/TrackerList';\n\nfunction App() {\n  return (\n    <Container maxWidth=\"sm\">\n      <div style={{textAlign: 'center'}}>\n        <h1>Tracker</h1>\n      </div>\n      <TrackerForm/>\n      <TrackerList/>\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport persistState from 'redux-localstorage';\n\nimport reducer from './store/reducer';\n\nimport App from './App';\n\nconst store = createStore(reducer, persistState());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}