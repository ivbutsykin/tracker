{"version":3,"sources":["TrackerForm/TrackerForm.module.css","TrackerList/TrackerList.module.css","App.module.css","TrackerList/Tracker/Tracker.module.css","store/types.js","store/reducer.js","TrackerForm/TrackerForm.js","store/actions.js","TrackerList/Tracker/Tracker.js","TrackerList/TrackerList.js","App.js","index.js"],"names":["module","exports","CREATE","REMOVE","PAUSE","RESUME","initialState","trackers","TrackerForm","state","name","handleChange","e","setState","target","value","handleClick","props","create","handleKeyPress","keyCode","this","className","styles","form","type","tracker_name","placeholder","onChange","onKeyDown","submit_button","onClick","Component","connect","dispatch","payload","Tracker","elapsedTime","getElapsedTime","updateElapsedTime","handleToggleClick","tracker","isPaused","onResume","id","setupUpdateInterval","onPause","clearUpdateInterval","handleRemove","onRemove","style","display","justifyContent","classnames","active","content","buttons","play_button","remove_button","intervalId","setInterval","clearInterval","intervals","reduce","acc","cur","pausedAt","Date","now","startedAt","moment","duration","format","trim","pause","resume","remove","list","map","list_child","App","container","header","store","createStore","action","uuidv4","filter","length","persistState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73814e2a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"TrackerForm_form__MJejv\",\"tracker_name\":\"TrackerForm_tracker_name__1kpT5\",\"submit_button\":\"TrackerForm_submit_button__9Z9tz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"TrackerList_list__2e8M7\",\"list_child\":\"TrackerList_list_child__3hTU6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\",\"header\":\"App_header__3ZZ1n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"Tracker_active__37sS1\",\"Tracker\":\"Tracker_Tracker__1bSxr\",\"content\":\"Tracker_content__1ey48\",\"name\":\"Tracker_name__J3KrZ\",\"buttons\":\"Tracker_buttons__1P5XM\",\"play_button\":\"Tracker_play_button__3Q0J-\",\"remove_button\":\"Tracker_remove_button__23RTI\"};","export const CREATE = '@tracker:create';\nexport const REMOVE = '@tracker:remove';\nexport const PAUSE = '@tracker:pause';\nexport const RESUME = '@tracker:resume';\n","import moment from 'moment';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { CREATE, REMOVE, RESUME, PAUSE } from './types';\n\nconst initialState = {\n  trackers: []\n};\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case CREATE: {\n      return {\n        ...state,\n        trackers: [\n          {\n            id: uuidv4(),\n            name: action.payload.trim() || `Timer from ${moment().format('HH:mm:ss')}`,\n            isPaused: false,\n            intervals: [{\n              startedAt: Date.now(),\n              pausedAt: null,\n            }],\n          },\n          ...state.trackers,\n        ]\n      };\n    }\n    case REMOVE: {\n      const trackers = state.trackers.filter(tracker => tracker.id !== action.payload);\n      return {\n        ...state,\n        trackers\n      };\n    }\n\n    case PAUSE: {\n      const trackers = state.trackers.map(tracker => {\n        if (tracker.id === action.payload) {\n          const intervals = [...tracker.intervals];\n\n          intervals[intervals.length - 1].pausedAt = Date.now();\n\n          return {\n            ...tracker,\n            isPaused: true,\n            intervals,\n          }\n        }\n\n        return tracker;\n      });\n      return {\n        ...state,\n        trackers\n      };\n    }\n\n    case RESUME: {\n      const trackers = state.trackers.map(tracker => {\n        if (tracker.id === action.payload) {\n          return {\n            ...tracker,\n            isPaused: false,\n            intervals: [\n              ...tracker.intervals,\n              {\n                startedAt: Date.now(),\n                pausedAt: null,\n              }\n            ],\n          }\n        }\n\n        return tracker;\n      });\n\n      return {\n        ...state,\n        trackers\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport styles from './TrackerForm.module.css';\n\nimport { create } from '../store/actions';\n\nclass TrackerForm extends Component {\n  state = {\n    name: ''\n  };\n\n  render() {\n    const { name } = this.state;\n    return (\n      <div className={styles.form}>\n        <input\n          type=\"text\"\n          value={name}\n          className={styles.tracker_name}\n          placeholder=\"Enter tracker name\"\n          onChange={this.handleChange}\n          onKeyDown={this.handleKeyPress}\n        />\n        <button className={styles.submit_button} onClick={this.handleClick}>\n          <span className=\"material-icons md-36\">play_circle</span>\n        </button>\n      </div>\n    );\n  }\n\n  handleChange = e => {\n    this.setState({ name: e.target.value });\n  };\n\n  handleClick = () => {\n    this.props.create(this.state.name);\n    this.setState({ name: '' });\n  };\n\n  handleKeyPress = e => {\n    if (e.keyCode === 13) {\n      this.handleClick();\n    }\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    create: name => dispatch(create(name)),\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(TrackerForm);\n","import { CREATE, REMOVE, PAUSE, RESUME } from './types';\n\nexport function create(name) {\n  return {\n    type: CREATE,\n    payload: name\n  };\n}\n\nexport function pause(id) {\n  return {\n    type: PAUSE,\n    payload: id\n  };\n}\n\nexport function resume(id) {\n  return {\n    type: RESUME,\n    payload: id\n  };\n}\n\nexport function remove(id) {\n  return {\n    type: REMOVE,\n    payload: id\n  };\n}\n","import { Component } from 'react';\n\nimport 'moment-duration-format';\nimport moment from 'moment';\nimport classnames from 'classnames';\n\nimport styles from './Tracker.module.css';\n\nclass Tracker extends Component {\n  state = {\n    elapsedTime: this.getElapsedTime(),\n  };\n\n  componentDidMount() {\n    this.setupUpdateInterval();\n  }\n\n  componentWillUnmount() {\n    this.clearUpdateInterval();\n  }\n\n  render() {\n    const { tracker } = this.props;\n    const { elapsedTime } = this.state;\n\n    const style = {\n      display: 'flex',\n      justifyContent: 'space-between',\n    };\n\n    return (\n      <div className={classnames(styles.Tracker, {\n        [styles.active]: !tracker.isPaused,\n      })}>\n        <div className={styles.content} style={style}>\n          <span className={styles.name}>{tracker.name}</span>\n          <span>{elapsedTime}</span>\n        </div>\n\n        <div className={styles.buttons}>\n          <button className={styles.play_button} style={style} onClick={this.handleToggleClick}>\n            {\n              tracker.isPaused ?\n                <span className=\"material-icons md-24\">play_circle_outline</span> :\n                <span className=\"material-icons md-24\">pause_circle_outline</span>\n            }\n          </button>\n          <button className={styles.remove_button} onClick={this.handleRemove}>\n            <span className=\"material-icons md-24\">remove_circle_outline</span>\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  setupUpdateInterval() {\n    this.intervalId = setInterval(this.updateElapsedTime, 1000);\n  }\n\n  clearUpdateInterval() {\n    clearInterval(this.intervalId);\n  }\n\n  updateElapsedTime = () => {\n    this.setState({\n      elapsedTime: this.getElapsedTime(),\n    });\n  };\n\n  getElapsedTime() {\n    const { tracker: { intervals } } = this.props;\n\n    const elapsedTime = intervals.reduce((acc, cur) => {\n      return acc + (cur.pausedAt || Date.now()) - cur.startedAt;\n    }, 0);\n\n    return moment.duration(elapsedTime, 'milliseconds')\n      .format('HH:mm:ss', { trim: false });\n  }\n\n  handleToggleClick = () => {\n    const { tracker } = this.props;\n\n    if (tracker.isPaused) {\n      this.props.onResume(tracker.id);\n      this.setupUpdateInterval();\n    } else {\n      this.props.onPause(tracker.id);\n      this.clearUpdateInterval();\n    }\n  };\n\n  handleRemove = () => {\n    this.props.onRemove(this.props.tracker.id);\n  };\n}\n\nexport default Tracker;\n","import { connect } from 'react-redux';\n\nimport Tracker from './Tracker/Tracker';\n\nimport styles from './TrackerList.module.css';\n\nimport { pause, remove, resume } from '../store/actions';\n\nfunction TrackerList(props) {\n  const { trackers } = props;\n  return (\n    <ul className={styles.list}>\n      {\n        trackers.map((tracker) => (\n          <li className={styles.list_child} key={tracker.id}>\n            <Tracker\n              tracker={tracker}\n              onRemove={props.remove}\n              onPause={props.pause}\n              onResume={props.resume}\n            />\n          </li>\n        ))\n      }\n    </ul>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return {\n    trackers: state.trackers\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    pause: id => dispatch(pause(id)),\n    resume: id => dispatch(resume(id)),\n    remove: id => dispatch(remove(id)),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TrackerList);\n","import TrackerForm from './TrackerForm/TrackerForm';\nimport TrackerList from './TrackerList/TrackerList';\n\nimport styles from './App.module.css';\n\nfunction App() {\n  return (\n    <div className={styles.container}>\n      <div className={styles.header}>\n        <h1>Tracker</h1>\n      </div>\n      <TrackerForm/>\n      <TrackerList/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport persistState from 'redux-localstorage';\n\nimport reducer from './store/reducer';\n\nimport App from './App';\n\nconst store = createStore(reducer, persistState());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App/>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}